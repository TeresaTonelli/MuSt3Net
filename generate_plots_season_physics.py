#In this script, separated from the other, we plot all the maps of physycs variables_behavior, for each year and week

import numpy as np
import torch
import os

from hyperparameter import *
from plot_results import compute_channel, NN_differences_layer_mean_season_physics
from utils_training_1 import load_land_sea_masks, load_old_total_tensor
from utils_function import compute_season


land_sea_masks = load_land_sea_masks("dataset_training/land_sea_masks/")
years_week_indexes = [[2019, 1], [2019, 2], [2019, 3], [2019, 4], [2019, 5], [2019, 6], [2019, 7], [2019, 8], [2019, 9], [2019, 10], [2019, 11], [2019, 12], [2019, 13], [2019, 14], [2019, 15],
                      [2019, 16], [2019, 17], [2019, 18], [2019, 19], [2019, 20], [2019, 21], [2019, 22], [2019, 23], [2019, 24], [2019, 25], [2019, 26], [2019, 27], [2019, 28], [2019, 29] ,[2019, 30],
                      [2019, 31], [2019, 32], [2019, 33], [2019, 34], [2019, 35], [2019, 36], [2019, 37], [2019, 38], [2019, 39], [2019, 40], [2019, 41], [2019, 42], [2019, 43], [2019, 44], [2019, 45], 
                      [2019, 46], [2019, 47], [2019, 48], [2019, 49], [2019, 50], [2019, 51], [2019, 52], 
                      [2020, 1], [2020, 2], [2020, 3], [2020, 4], [2020, 5], [2020, 6], [2020, 7], [2020, 8], [2020, 9], [2020, 10], [2020, 11], [2020, 12], [2020, 13], [2020, 14], [2020, 15],
                      [2020, 16], [2020, 17], [2020, 18], [2020, 19], [2020, 20], [2020, 21], [2020, 22], [2020, 23], [2020, 24], [2020, 25], [2020, 26], [2020, 27], [2020, 28], [2020, 29] ,[2020, 30],
                      [2020, 31], [2020, 32], [2020, 33], [2020, 34], [2020, 35], [2020, 36], [2020, 37], [2020, 38], [2020, 39], [2020, 40], [2020, 41], [2020, 42], [2020, 43], [2020, 44], [2020, 45], 
                      [2020, 46], [2020, 47], [2020, 48], [2020, 49], [2020, 50], [2020, 51], [2020, 52], [2020, 53],
                      [2021, 1], [2021, 2], [2021, 3], [2021, 4], [2021, 5], [2021, 6], [2021, 7], [2021, 8], [2021, 9], [2021, 10], [2021, 11], [2021, 12], [2021, 13], [2021, 14], [2021, 15],
                      [2021, 16], [2021, 17], [2021, 18], [2021, 19], [2021, 20], [2021, 21], [2021, 22], [2021, 23], [2021, 24], [2021, 25], [2021, 26], [2021, 27], [2021, 28], [2021, 29] ,[2021, 30],
                      [2021, 31], [2021, 32], [2021, 33], [2021, 34], [2021, 35], [2021, 36], [2021, 37], [2021, 38], [2021, 39], [2021, 40], [2021, 41], [2021, 42], [2021, 43], [2021, 44], [2021, 45], 
                      [2021, 46], [2021, 47], [2021, 48], [2021, 49], [2021, 50], [2021, 51], [2021, 52], 
                      [2022, 1], [2022, 2], [2022, 3], [2022, 4], [2022, 5], [2022, 6], [2022, 7], [2022, 8], [2022, 9], [2022, 10], [2022, 11], [2022, 12], [2022, 13], [2022, 14], [2022, 15],
                      [2022, 16], [2022, 17], [2022, 18], [2022, 19], [2022, 20], [2022, 21], [2022, 22], [2022, 23], [2022, 24], [2022, 25], [2022, 26], [2022, 27], [2022, 28], [2022, 29] ,[2022, 30],
                      [2022, 31], [2022, 32], [2022, 33], [2022, 34], [2022, 35], [2022, 36], [2022, 37], [2022, 38], [2022, 39], [2022, 40], [2022, 41], [2022, 42], [2022, 43], [2022, 44], [2022, 45], 
                      [2022, 46], [2022, 47], [2022, 48], [2022, 49], [2022, 50], [2022, 51], [2022, 52] ]
total_dataset = [load_old_total_tensor("dataset_training/old_total_dataset/", i, years_week_indexes) for i in range(len(years_week_indexes))]

for i_t in range(len(total_dataset)):
    tensor_phys = total_dataset[i_t][:, :, :, :, 1:-1]
    tensor_week = years_week_indexes[i_t][1]
    season = compute_season(tensor_week)
    NN_differences_layer_mean_season_physics(tensor_phys, land_sea_masks, ["soshfldo", "sossheig", "vomecrty", "vosaline", "votemper", "vozocrtx"], "dataset_training/physics_season_maps", [], season, years_week_indexes[i_t])
